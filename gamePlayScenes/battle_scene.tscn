[gd_scene load_steps=14 format=3 uid="uid://dbctjovlwwvvm"]

[ext_resource type="Script" path="res://scripts/battle_scene.gd" id="1_0ywdm"]
[ext_resource type="PackedScene" uid="uid://br5spg8ov0qin" path="res://gameLogicScenes/track_timeline.tscn" id="1_okhfq"]
[ext_resource type="Texture2D" uid="uid://dl1g8obaqlp4y" path="res://textures/BlackBoard.png" id="2_u05n0"]
[ext_resource type="PackedScene" uid="uid://bt7rj6mok518s" path="res://visualHandlerScenes/combat_visual_handler.tscn" id="4_o7cwc"]
[ext_resource type="Texture2D" uid="uid://e5seeju1gbrn" path="res://textures/PlayerFish.png" id="5_8n2rd"]
[ext_resource type="PackedScene" uid="uid://8qbkm1u5ggq4" path="res://visualHandlerScenes/bubble_particle.tscn" id="6_ewx2w"]
[ext_resource type="Texture2D" uid="uid://htdgy4eqydw" path="res://textures/EnemyFish.png" id="7_v4777"]
[ext_resource type="PackedScene" uid="uid://6jib8lf86jsi" path="res://visualHandlerScenes/bubble_particle_bubble_queue.tscn" id="8_7ash7"]
[ext_resource type="PackedScene" uid="uid://coowdyhalseww" path="res://visualHandlerScenes/mouse_collision.tscn" id="9_sqegd"]
[ext_resource type="PackedScene" uid="uid://bjn3ijy73wymi" path="res://visualHandlerScenes/hit_particle.tscn" id="10_v7vv4"]
[ext_resource type="PackedScene" uid="uid://dwolkeq3tmchj" path="res://gameLogicScenes/enemy_combat_actor.tscn" id="11_s7fqo"]
[ext_resource type="PackedScene" uid="uid://kfrptoovnsmb" path="res://gameLogicScenes/player_combat_actor.tscn" id="12_t2w1u"]
[ext_resource type="PackedScene" uid="uid://bmhrj3eik7u26" path="res://ui scenes/catfish_frame_eater.tscn" id="13_t7taa"]

[node name="battle_scene" type="Node2D" node_paths=PackedStringArray("visualCombatActor", "cursorSprite", "battleVisualContainer")]
script = ExtResource("1_0ywdm")
visualCombatActor = NodePath("VisualCombatActor")
cursorSprite = NodePath("TrackTimeline/Area2D/TimelineCursor")
battleVisualContainer = NodePath("VisualCombatActor")

[node name="EnemyCombatActor" parent="." node_paths=PackedStringArray("track", "visualCombatActor", "representedSprite") instance=ExtResource("11_s7fqo")]
track = NodePath("../TrackTimeline/enemy_track")
visualCombatActor = NodePath("../VisualCombatActor")
representedSprite = NodePath("../EnemySprite")

[node name="PlayerCombatActor" parent="." node_paths=PackedStringArray("playerFramePool", "track", "visualCombatActor", "representedSprite") instance=ExtResource("12_t2w1u")]
playerFramePool = NodePath("../TrackTimeline/player_frame_pool")
track = NodePath("../TrackTimeline/player_track")
visualCombatActor = NodePath("../VisualCombatActor")
representedSprite = NodePath("../PlayerSprite")

[node name="BlackBoard" type="Sprite2D" parent="."]
z_index = -6
position = Vector2(643, 370)
scale = Vector2(1.00469, 1.02778)
texture = ExtResource("2_u05n0")

[node name="BubbleParticle" parent="." instance=ExtResource("8_7ash7")]
position = Vector2(633, 350)

[node name="BubbleParticle2" parent="BubbleParticle" instance=ExtResource("8_7ash7")]
scale = Vector2(1.00469, 1.02778)

[node name="BubbleParticle3" parent="BubbleParticle" instance=ExtResource("8_7ash7")]
scale = Vector2(1.00469, 1.02778)

[node name="BubbleParticle4" parent="BubbleParticle" instance=ExtResource("8_7ash7")]
scale = Vector2(1.00469, 1.02778)

[node name="TrackTimeline" parent="." node_paths=PackedStringArray("playerCombatActor", "enemyCombatActor") instance=ExtResource("1_okhfq")]
playerCombatActor = NodePath("../PlayerCombatActor")
enemyCombatActor = NodePath("../EnemyCombatActor")

[node name="player_frame_pool" parent="TrackTimeline" index="1"]
initialTrackFrames = 7

[node name="player_track" parent="TrackTimeline" index="2"]
initialTrackFrames = 4

[node name="VisualCombatActor" parent="." node_paths=PackedStringArray("playerSpriteArray", "enemySpriteArray", "nonCombatSpriteWibbleArray") instance=ExtResource("4_o7cwc")]
playerSpriteArray = [NodePath("../PlayerSprite"), NodePath("../CatfishFrameEater/CatFishHead"), NodePath("../CatfishFrameEater/CatFishFins")]
enemySpriteArray = [NodePath("../EnemySprite")]
nonCombatSpriteWibbleArray = [NodePath("../TrackTimeline/Area2D/TimelineCursor"), NodePath("../TrackTimeline/PausePlay")]
hitParticle = ExtResource("10_v7vv4")

[node name="PlayerSprite" type="Sprite2D" parent="."]
texture_filter = 1
position = Vector2(355, 191)
texture = ExtResource("5_8n2rd")

[node name="BubbleParticle" parent="PlayerSprite" instance=ExtResource("6_ewx2w")]
position = Vector2(110, 4)

[node name="EnemySprite" type="Sprite2D" parent="."]
position = Vector2(858, 196)
rotation = 3.14159
scale = Vector2(1, -1)
texture = ExtResource("7_v4777")

[node name="BubbleParticle" parent="EnemySprite" instance=ExtResource("6_ewx2w")]
position = Vector2(116, 17)

[node name="MouseCollision" parent="." instance=ExtResource("9_sqegd")]

[node name="CatfishFrameEater" parent="." instance=ExtResource("13_t7taa")]
position = Vector2(1147, 625)
scale = Vector2(0.25, 0.25)

[node name="CatFishFins" parent="CatfishFrameEater" index="0"]
position = Vector2(-20, -40)
scale = Vector2(0.855469, 1)

[editable path="TrackTimeline"]
[editable path="CatfishFrameEater"]
